paths:
  # Tag Group: Class Management System (CMS)
  # Tag: Classes
  /classes:
    get:
      tags:
        - CMS / Classes
      summary: Get All Classes
      description: Retrieves a paginated list of classes with optional filters and sorting.
      operationId: getClasses
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number (1-indexed)
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
          description: Number of classes per page
        - name: sort
          in: query
          schema:
            type: string
          description: Sort field (e.g., 'name', 'grade', 'academicYear')
        - name: search
          in: query
          schema:
            type: string
          description: Search by class name
        - name: grade
          in: query
          schema:
            type: string
          description: Filter by grade level
        - name: academicYear
          in: query
          schema:
            type: string
          description: Filter by academic year
        - name: homeroomTeacherId
          in: query
          schema:
            type: string
          description: Filter by homeroom teacher ID
        - name: isActive
          in: query
          schema:
            type: boolean
          description: Filter by active status
      responses:
        "200":
          description: List of classes retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Class"
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    post:
      tags:
        - CMS / Classes
      summary: Create New Class
      description: Creates a new class with the provided information.
      operationId: createClass
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/ClassCreateRequest"
      responses:
        "201":
          description: Class created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Class"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
  /classes/{id}:
    get:
      tags:
        - CMS / Classes
      summary: Get Class by ID
      description: Retrieves a specific class by its ID.
      operationId: getClassById
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "200":
          description: Class retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Class"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    put:
      tags:
        - CMS / Classes
      summary: Update Class
      description: Updates an existing class with the provided information.
      operationId: updateClass
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/ClassUpdateRequest"
      responses:
        "200":
          description: Class updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Class"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    delete:
      tags:
        - CMS / Classes
      summary: Delete Class
      description: Deletes a class and all its associated data.
      operationId: deleteClass
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "204":
          description: Class deleted successfully
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  # Tag: Seating Chart
  /classes/{classId}/seating-chart:
    get:
      tags:
        - CMS / Seating Chart
      summary: Get Seating Chart
      description: Retrieves the seating chart layout for a specific clas.
      operationId: getSeatingChart
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "200":
          description: Seating chart retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Layout"
        "404":
          description: Class or seating chart not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    put:
      tags:
        - CMS / Seating Chart
      summary: Save Seating Chart
      description: Saves or updates the seating chart layout for a specific class.
      operationId: saveSeatingChart
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/Layout"
      responses:
        "200":
          description: Seating chart saved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Layout"
        "400":
          description: Bad Request - Invalid layout data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  # Tag: Students
  /classes/{classId}/students:
    get:
      tags:
        - CMS / Students
      summary: Get Students in Class
      description: Retrieves all students enrolled in a specific class.
      operationId: getStudentsByClassId
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "200":
          description: List of students retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Student"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    post:
      tags:
        - CMS / Students
      summary: Enroll or Create Student
      description: Enrolls an existing student or creates a new student in a class.
      operationId: enrollStudent
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        description: Either enroll existing student or create new one
        content:
          application/json:
            schema:
              oneOf:
                - $ref: "../schemas.yaml#/components/schemas/StudentEnrollmentRequest"
                - $ref: "../schemas.yaml#/components/schemas/StudentCreateRequest"
      responses:
        "200":
          description: Student enrolled or created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Student"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class or student not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /classes/{classId}/students/{studentId}:
    delete:
      tags:
        - CMS / Students
      summary: Remove Student from Class
      description: Removes a student from a specific class.
      operationId: removeStudentFromClass
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: studentId
          in: path
          required: true
          schema:
            type: string
          description: The student ID
      responses:
        "204":
          description: Student removed successfully
        "404":
          description: Class or student not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /classes/{classId}/students/import:
    post:
      tags:
        - CMS / Students
      summary: Import Students from CSV
      description: Imports students from a CSV file into a class.
      operationId: submitImport
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: CSV file containing student data
              required:
                - file
      responses:
        "200":
          description: Students imported successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/ImportResult"
        "400":
          description: Bad Request - Invalid file format
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /students/{studentId}:
    put:
      tags:
        - CMS / Students
      summary: Update Student
      description: Updates student information.
      operationId: updateStudent
      parameters:
        - name: studentId
          in: path
          required: true
          schema:
            type: string
          description: The student ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/StudentUpdateRequest"
      responses:
        "200":
          description: Student updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Student"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Student not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    delete:
      tags:
        - CMS / Students
      summary: Delete Student
      description: Deletes a student record.
      operationId: deleteStudent
      parameters:
        - name: studentId
          in: path
          required: true
          schema:
            type: string
          description: The student ID
      responses:
        "204":
          description: Student deleted successfully
        "404":
          description: Student not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  # Tag: Schedules
  /classes/{classId}/schedules:
    get:
      tags:
        - CMS / Schedules
      summary: Get Class Schedules
      description: Retrieves the schedule for a class within a date range.
      operationId: getSchedules
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: startDate
          in: query
          schema:
            type: string
            format: date
          description: Start date for the schedule range
        - name: endDate
          in: query
          schema:
            type: string
            format: date
          description: End date for the schedule range
      responses:
        "200":
          description: Schedule retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/DailySchedule"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /classes/{classId}/periods:
    get:
      tags:
        - CMS / Schedules
      summary: Get Class Periods
      description: Retrieves all schedule periods for a class.
      operationId: getSchedulePeriods
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: date
          in: query
          schema:
            type: string
            format: date
          description: Filter by specific date
        - name: startDate
          in: query
          schema:
            type: string
            format: date
          description: Start date for the period range
        - name: endDate
          in: query
          schema:
            type: string
            format: date
          description: End date for the period range
        - name: subject
          in: query
          schema:
            type: string
          description: Filter by subject code
      responses:
        "200":
          description: Periods retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/SchedulePeriod"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    post:
      tags:
        - CMS / Schedules
      summary: Create Schedule Period
      description: Creates a new schedule period for a class.
      operationId: createSchedulePeriod
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/SchedulePeriodCreateRequest"
      responses:
        "201":
          description: Period created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/SchedulePeriod"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /classes/{classId}/periods/{id}:
    get:
      tags:
        - CMS / Schedules
      summary: Get Period by ID
      description: Retrieves a specific schedule period by its ID for a class.
      operationId: getPeriodById
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The period ID
      responses:
        "200":
          description: Period retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/SchedulePeriod"
        "404":
          description: Period not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    patch:
      tags:
        - CMS / Schedules
      summary: Update Schedule Period
      description: Updates an existing schedule period for a class.
      operationId: updateSchedulePeriod
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The period ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/SchedulePeriodUpdateRequest"
      responses:
        "200":
          description: Period updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/SchedulePeriod"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Period not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"



  # Tag: Lessons
  /classes/{classId}/lessons:
    get:
      tags:
        - CMS / Lessons
      summary: Get Lessons
      description: Retrieves lessons for a class with optional filters.
      operationId: getLessons
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: teacherId
          in: query
          schema:
            type: string
          description: Filter by teacher ID
        - name: subject
          in: query
          schema:
            type: string
          description: Filter by subject
        - name: status
          in: query
          schema:
            type: string
            enum: ["draft", "planning", "in-progress", "completed", "archived"]
          description: Filter by status
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
          description: Page size
      responses:
        "200":
          description: Lessons retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Lesson"
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /lessons:
    post:
      tags:
        - CMS / Lessons
      summary: Create Lesson
      description: Creates a new lesson.
      operationId: createLessonPlan
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/LessonCreateRequest"
      responses:
        "201":
          description: Lesson created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Lesson"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /lessons/{id}:
    get:
      tags:
        - CMS / Lessons
      summary: Get Lesson by ID
      description: Retrieves a specific lesson by its ID.
      operationId: getLesson
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The lesson ID
      responses:
        "200":
          description: Lesson retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Lesson"
        "404":
          description: Lesson plan not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    patch:
      tags:
        - CMS / Lessons
      summary: Update Lesson
      description: Updates an existing lesson with the provided information.
      operationId: updateLesson
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The lesson ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/LessonUpdateRequest"
      responses:
        "200":
          description: Lesson updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Lesson"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Lesson not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /lessons/{id}/status:
    patch:
      tags:
        - CMS / Lessons
      summary: Update Lesson Status
      description: Updates the status of a lesson.
      operationId: updateLessonStatus
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The lesson ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: ["draft", "planning", "in-progress", "completed", "archived"]
                  description: New status
                  example: "in-progress"
                notes:
                  type: string
                  description: Optional notes about the status change
                  example: "Started teaching this lesson"
              required:
                - status
      responses:
        "200":
          description: Lesson status updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Lesson"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Lesson not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

    Class:
      type: object
      description: Class (learning group) in the Vietnamese education system
      properties:
        id:
          type: string
          description: Unique identifier for the class
          example: "cls_123456"
        name:
          type: string
          description: Name of the class (e.g., "10A1", "11B2")
          example: "12A"
        grade:
          type: integer
          description: Grade level (1-12 for Vietnamese education system)
          example: 12
        academicYear:
          type: string
          description: Academic year (e.g., "2024-2025")
          example: "2024-2025"
        currentEnrollment:
          type: integer
          description: Current number of enrolled students
          example: 30
        teacherId:
          type: string
          description: ID of the homeroom teacher
          example: "teacher_123"
        classroom:
          type: string
          nullable: true
          description: Physical classroom location/room number
          example: "B201"
        description:
          type: string
          nullable: true
          description: Description or notes about the class
          example: "Advanced Science Track"
        students:
          type: array
          description: List of students in the class
          items:
            $ref: "#/components/schemas/Student"
        layout:
          $ref: "#/components/schemas/Layout"
          nullable: true
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the class was created
          example: "2024-01-15T10:30:00Z"
        updatedAt:
          type: string
          format: date-time
          description: Timestamp when the class was last updated
          example: "2024-09-20T14:45:00Z"
        isActive:
          type: boolean
          description: Whether the class is active
          example: true

    ClassCreateRequest:
      type: object
      description: Request body for creating a new class
      required:
        - name
        - grade
        - academicYear
      properties:
        name:
          type: string
          description: Name of the class
          example: "12A"
        grade:
          type: integer
          description: Grade level (1-12)
          example: 12
        academicYear:
          type: string
          description: Academic year
          example: "2024-2025"
        classroom:
          type: string
          nullable: true
          description: Physical classroom location
          example: "B201"
        description:
          type: string
          nullable: true
          description: Description of the class
          example: "Advanced Science Track"

    ClassUpdateRequest:
      type: object
      description: Request body for updating a class
      properties:
        id:
          type: string
          description: ID of the class to update
          example: "cls_123456"
        name:
          type: string
          description: Name of the class
          example: "12A"
        grade:
          type: integer
          description: Grade level
          example: 12
        academicYear:
          type: string
          description: Academic year
          example: "2024-2025"
        classroom:
          type: string
          nullable: true
          description: Physical classroom location
          example: "B201"
        description:
          type: string
          nullable: true
          description: Description of the class
        isActive:
          type: boolean
          description: Whether the class is active
          example: true

    ClassCollectionRequest:
      type: object
      description: Query parameters for fetching a collection of classes
      properties:
        page:
          type: integer
          description: Page number (0-indexed)
          example: 0
        pageSize:
          type: integer
          description: Number of items per page
          example: 10
        sort:
          type: string
          description: Sort field and direction
          example: "name-asc"
        search:
          type: string
          description: Search query
          example: "12A"
        grade:
          type: integer
          description: Filter by grade
          example: 12
        academicYear:
          type: string
          description: Filter by academic year
          example: "2024-2025"
        isActive:
          type: boolean
          description: Filter by active status
          example: true

    Layout:
      type: object
      description: Seating chart layout object representing classroom arrangement
      properties:
        rows:
          type: integer
          description: Number of rows in the classroom layout
          example: 5
        columns:
          type: integer
          description: Number of columns in the classroom layout
          example: 6
        seats:
          type: array
          description: Array of seats in the layout
          items:
            $ref: "#/components/schemas/Seat"
        separatorInterval:
          type: integer
          nullable: true
          description: Interval for separators in the layout
          example: 2

    Seat:
      type: object
      description: Seat object representing a single seat in the classroom
      properties:
        id:
          type: string
          description: Unique identifier for the seat
          example: "seat_123456"
        studentId:
          type: string
          nullable: true
          description: ID of the assigned student, null if empty
          example: "std_123456"

    Student:
      type: object
      description: Student object representing a school student
      properties:
        id:
          type: string
          description: Unique identifier for the student
          example: "std_123456"
        fullName:
          type: string
          description: Full name of the student
          example: "Nguyen Van A"
        dateOfBirth:
          type: string
          format: date
          description: Date of birth
          example: "2008-01-15"
        gender:
          type: string
          enum: ["male", "female", "other"]
          description: Gender of the student
          example: "male"
        address:
          type: string
          nullable: true
          description: Residential address
          example: "123 Main Street, City"
        parentName:
          type: string
          nullable: true
          description: Name of parent/guardian
          example: "Nguyen Van X"
        parentPhone:
          type: string
          nullable: true
          description: Phone number of parent/guardian
          example: "+84987654321"
        classId:
          type: string
          description: ID of the class the student is enrolled in
          example: "cls_123456"
        enrollmentDate:
          type: string
          format: date
          description: Date the student was enrolled
          example: "2024-01-15"
        status:
          type: string
          enum: ["active", "transferred", "graduated", "dropped"]
          description: Student status
          example: "active"
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the record was created
          example: "2024-01-15T10:30:00Z"
        updatedAt:
          type: string
          format: date-time
          description: Timestamp when the record was last updated
          example: "2024-09-20T14:45:00Z"

    StudentCreateRequest:
      type: object
      description: Request body for creating a new student
      required:
        - fullName
        - classId
      properties:
        fullName:
          type: string
          description: Full name of the student
          example: "Nguyen Van A"
        dateOfBirth:
          type: string
          format: date
          description: Date of birth
          example: "2008-01-15"
        gender:
          type: string
          enum: ["male", "female", "other"]
          description: Gender of the student
          example: "male"
        address:
          type: string
          nullable: true
          description: Residential address
          example: "123 Main Street, City"
        parentName:
          type: string
          nullable: true
          description: Name of parent/guardian
          example: "Nguyen Van X"
        parentPhone:
          type: string
          nullable: true
          description: Phone number of parent/guardian
          example: "+84987654321"
        classId:
          type: string
          description: ID of the class to enroll in
          example: "cls_123456"
        enrollmentDate:
          type: string
          format: date
          nullable: true
          description: Date of enrollment
          example: "2024-01-15"

    StudentUpdateRequest:
      type: object
      description: Request body for updating an existing student
      properties:
        id:
          type: string
          description: ID of the student to update
          example: "std_123456"
        fullName:
          type: string
          nullable: true
          description: Full name of the student
          example: "Nguyen Van A"
        dateOfBirth:
          type: string
          format: date
          nullable: true
          description: Date of birth
          example: "2008-01-15"
        gender:
          type: string
          enum: ["male", "female", "other"]
          nullable: true
          description: Gender of the student
          example: "male"
        address:
          type: string
          nullable: true
          description: Residential address
          example: "123 Main Street, City"
        parentName:
          type: string
          nullable: true
          description: Name of parent/guardian
          example: "Nguyen Van X"
        parentPhone:
          type: string
          nullable: true
          description: Phone number of parent/guardian
          example: "+84987654321"
        status:
          type: string
          enum: ["active", "transferred", "graduated", "dropped"]
          nullable: true
          description: Student status
          example: "active"

    StudentCollectionRequest:
      type: object
      description: Query parameters for fetching students
      properties:
        classId:
          type: string
          description: Filter by class ID
          example: "cls_123456"
        grade:
          type: integer
          description: Filter by grade
          example: 12
        status:
          type: string
          description: Filter by student status
          example: "active"
        search:
          type: string
          description: Search query (name or ID)
          example: "Nguyen Van A"
        page:
          type: integer
          description: Page number (0-indexed)
          example: 0
        pageSize:
          type: integer
          description: Number of items per page
          example: 10
        sort:
          type: string
          description: Sort field and direction
          example: "name-asc"

    StudentEnrollmentRequest:
      type: object
      description: Request body for enrolling a student in a class
      required:
        - classId
        - studentId
      properties:
        classId:
          type: string
          description: ID of the class
          example: "cls_123456"
        studentId:
          type: string
          description: ID of the student to enroll
          example: "std_123456"
        enrollmentDate:
          type: string
          format: date
          nullable: true
          description: Date of enrollment
          example: "2024-01-15"

    SchedulePeriod:
      type: object
      description: Schedule period representing a scheduled event or class period on a specific date (non-recurring)
      properties:
        id:
          type: string
          description: Unique identifier for the period
          example: "period_123456"
        classId:
          type: string
          description: ID of the class
          example: "cls_123456"
        name:
          type: string
          description: Name of the period or event
          example: "Math Period 1"
        subject:
          type: string
          description: Subject code being taught
          example: "MATH101"
        date:
          type: string
          format: date
          description: Date of the period (YYYY-MM-DD)
          example: "2024-09-20"
        startTime:
          type: string
          format: time
          nullable: true
          description: Start time of the period (HH:mm)
          example: "07:00"
        endTime:
          type: string
          format: time
          nullable: true
          description: End time of the period (HH:mm)
          example: "08:00"
        category:
          type: string
          enum: ["assignment", "exam", "fieldTrip", "meeting", "holiday", "presentation", "other"]
          description: Category of the period
          example: "assignment"
        location:
          type: string
          nullable: true
          description: Location of the period
          example: "Room 101"
        description:
          type: string
          nullable: true
          description: Description of the period
          example: "Regular math class"
        isActive:
          type: boolean
          description: Whether the period is active
          example: true
        lessons:
          type: array
          items:
            $ref: "#/components/schemas/Lesson"
          nullable: true
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the period was created
          example: "2024-01-15T10:30:00Z"
        updatedAt:
          type: string
          format: date-time
          description: Timestamp when the period was last updated
          example: "2024-09-20T14:45:00Z"

    MinimalSchedulePeriod:
      type: object
      description: Minimal schedule period object for references (reduced payload)
      properties:
        id:
          type: string
          description: Unique identifier for the period
          example: "period_123456"
        classId:
          type: string
          description: ID of the class
          example: "cls_123456"
        name:
          type: string
          description: Name of the period or event
          example: "Math Period 1"
        subject:
          type: string
          description: Subject code being taught
          example: "MATH101"
        date:
          type: string
          format: date
          description: Date of the period
          example: "2024-09-20"
        startTime:
          type: string
          format: time
          nullable: true
          description: Start time of the period
          example: "07:00"
        endTime:
          type: string
          format: time
          nullable: true
          description: End time of the period
          example: "08:00"
        category:
          type: string
          enum: ["assignment", "exam", "fieldTrip", "meeting", "holiday", "presentation", "other"]
          description: Category of the period
          example: "assignment"
        isActive:
          type: boolean
          description: Whether the period is active
          example: true

    SchedulePeriodCreateRequest:
      type: object
      description: Request body for creating a new schedule period (date-based, non-recurring)
      required:
        - classId
        - date
        - startTime
        - endTime
      properties:
        classId:
          type: string
          description: ID of the class
          example: "cls_123456"
        date:
          type: string
          format: date
          description: Date of the period (YYYY-MM-DD)
          example: "2024-09-20"
        startTime:
          type: string
          format: time
          description: Start time (HH:mm)
          example: "07:00"
        endTime:
          type: string
          format: time
          description: End time (HH:mm)
          example: "08:00"
        location:
          type: string
          nullable: true
          description: Location of the period
          example: "Room 101"

    SchedulePeriodUpdateRequest:
      type: object
      description: Request body for updating a schedule period
      properties:
        id:
          type: string
          description: ID of the period to update
          example: "period_123456"
        classId:
          type: string
          nullable: true
          description: ID of the class
        date:
          type: string
          format: date
          nullable: true
          description: Date of the period
        startTime:
          type: string
          format: time
          nullable: true
          description: Start time
        endTime:
          type: string
          format: time
          nullable: true
          description: End time
        location:
          type: string
          nullable: true
          description: Location of the period

    DailySchedule:
      type: object
      description: Daily schedule object containing all periods for a specific date
      properties:
        date:
          type: string
          format: date
          description: Date of the schedule (YYYY-MM-DD)
          example: "2024-09-20"
        classId:
          type: string
          description: ID of the class
          example: "cls_123456"
        periods:
          type: array
          description: List of periods for this date
          items:
            $ref: "#/components/schemas/SchedulePeriod"

    ScheduleCollectionRequest:
      type: object
      description: Query parameters for retrieving schedules
      properties:
        startDate:
          type: string
          format: date
          description: Start date for the schedule range (YYYY-MM-DD)
          example: "2024-09-01"
        endDate:
          type: string
          format: date
          description: End date for the schedule range (YYYY-MM-DD)
          example: "2024-09-30"
        date:
          type: string
          format: date
          description: Single date for fetching schedules (YYYY-MM-DD)
          example: "2024-09-20"

    Lesson:
      type: object
      description: Lesson plan object representing a detailed plan for teaching
      properties:
        id:
          type: string
          description: Unique identifier for the lesson
          example: "lesson_123456"
        classId:
          type: string
          description: ID of the class
          example: "cls_123456"
        className:
          type: string
          description: Name of the class
          example: "12A"
        subject:
          type: string
          nullable: true
          description: Subject code
          example: "MATH101"
        title:
          type: string
          description: Title of the lesson
          example: "Quadratic Equations"
        description:
          type: string
          nullable: true
          description: Detailed description of the lesson
        duration:
          type: integer
          description: Duration in minutes
          example: 45
        linkedPeriods:
          type: array
          items:
            $ref: "#/components/schemas/MinimalSchedulePeriod"
          nullable: true
        objectives:
          type: array
          description: Learning objectives
          items:
            $ref: "#/components/schemas/LearningObjective"
        resources:
          type: array
          description: Lesson resources
          items:
            $ref: "#/components/schemas/LessonResource"
        status:
          type: string
          enum: ["planned", "in_progress", "completed", "cancelled"]
          description: Status of the lesson
          example: "planned"
        notes:
          type: string
          nullable: true
          description: Additional notes
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the plan was created
          example: "2024-01-15T10:30:00Z"
        updatedAt:
          type: string
          format: date-time
          description: Timestamp when the plan was last updated
          example: "2024-09-20T14:45:00Z"

    LessonCreateRequest:
      type: object
      description: Request body for creating a lesson
      required:
        - classId
        - title
        - subject
      properties:
        classId:
          type: string
          description: ID of the class
          example: "cls_123456"
        title:
          type: string
          description: Title of the lesson
          example: "Quadratic Equations"
        subject:
          type: string
          description: Subject code
          example: "MATH101"
        description:
          type: string
          nullable: true
          description: Detailed description of the lesson
        duration:
          type: integer
          nullable: true
          description: Duration in minutes
          example: 45
        linkedPeriods:
          type: array
          items:
            type: string
          nullable: true
          description: IDs of the schedule periods to bind
          example: ["period_123456"]
        objectives:
          type: array
          description: Learning objectives
          items:
            type: object
            properties:
              description:
                type: string
                example: "Students will be able to solve quadratic equations"
              type:
                type: string
                enum: ["knowledge", "skill", "attitude", "competency"]
                example: "knowledge"
              isAchieved:
                type: boolean
                example: false
              notes:
                type: string
                nullable: true
        resources:
          type: array
          description: Lesson resources
          items:
            type: object
            properties:
              name:
                type: string
                example: "Quadratic Formula Worksheet"
              type:
                type: string
                enum: ["presentation", "mindmap", "document", "video", "audio", "image", "worksheet", "equipment", "other"]
                example: "document"
              url:
                type: string
                format: uri
                nullable: true
              filePath:
                type: string
                nullable: true
              description:
                type: string
                nullable: true
              isRequired:
                type: boolean
                example: true
              isPrepared:
                type: boolean
                example: false
        notes:
          type: string
          nullable: true
          description: Additional notes

    LessonUpdateRequest:
      type: object
      description: Request body for updating a lesson
      properties:
        id:
          type: string
          description: ID of the lesson to update
          example: "lesson_123456"
        classId:
          type: string
          nullable: true
          description: ID of the class
        title:
          type: string
          nullable: true
          description: Title of the lesson
        subject:
          type: string
          nullable: true
          description: Subject code
        description:
          type: string
          nullable: true
          description: Detailed description of the lesson
        duration:
          type: integer
          nullable: true
          description: Duration in minutes
        objectives:
          type: array
          nullable: true
          description: Learning objectives
          items:
            type: object
            properties:
              description:
                type: string
              type:
                type: string
                enum: ["knowledge", "skill", "attitude", "competency"]
              isAchieved:
                type: boolean
              notes:
                type: string
                nullable: true
        resources:
          type: array
          nullable: true
          description: Lesson resources
          items:
            type: object
            properties:
              name:
                type: string
              type:
                type: string
                enum: ["presentation", "mindmap", "document", "video", "audio", "image", "worksheet", "equipment", "other"]
              url:
                type: string
                format: uri
                nullable: true
              filePath:
                type: string
                nullable: true
              description:
                type: string
                nullable: true
              isRequired:
                type: boolean
              isPrepared:
                type: boolean
        status:
          type: string
          enum: ["planned", "in_progress", "completed", "cancelled"]
          nullable: true
          description: Status of the lesson
        notes:
          type: string
          nullable: true
          description: Additional notes

    LessonCollectionRequest:
      type: object
      description: Query parameters for retrieving lessons
      properties:
        classId:
          type: string
          description: Filter by class ID
          example: "cls_123456"
        subject:
          type: string
          description: Filter by subject
          example: "Mathematics"
        status:
          type: string
          enum: ["planned", "in_progress", "completed", "cancelled"]
          description: Filter by status
          example: "planned"
        page:
          type: integer
          description: Page number (0-indexed)
          example: 0
        pageSize:
          type: integer
          description: Page size
          example: 10

    LearningObjective:
      type: object
      description: Learning objective representing a specific learning goal for a lesson
      properties:
        id:
          type: string
          description: Unique identifier for the objective
          example: "obj_123456"
        description:
          type: string
          description: Description of the objective
          example: "Students will be able to solve quadratic equations"
        type:
          type: string
          enum: ["knowledge", "skill", "attitude", "competency"]
          description: Type of objective (knowledge, skill, attitude, competency)
          example: "knowledge"
        isAchieved:
          type: boolean
          description: Whether the objective has been achieved
          example: false
        notes:
          type: string
          nullable: true
          description: Notes about this objective
          example: "Key concept to emphasize"

    LearningObjectiveUpdateRequest:
      type: object
      description: Request body for updating a learning objective
      properties:
        id:
          type: string
          description: ID of the objective to update
          example: "obj_123456"
        description:
          type: string
          nullable: true
          description: Description of the objective
        type:
          type: string
          enum: ["knowledge", "skill", "attitude", "competency"]
          nullable: true
          description: Type of objective
        isAchieved:
          type: boolean
          nullable: true
          description: Whether the objective has been achieved
        notes:
          type: string
          nullable: true
          description: Notes about this objective

    LessonResource:
      type: object
      description: Lesson resource representing teaching materials and resources
      properties:
        id:
          type: string
          description: Unique identifier for the resource
          example: "res_123456"
        name:
          type: string
          description: Name of the resource
          example: "Quadratic Formula Worksheet"
        type:
          type: string
          enum: ["presentation", "mindmap", "document", "video", "audio", "image", "worksheet", "equipment", "other"]
          description: Type of resource
          example: "document"
        url:
          type: string
          format: uri
          nullable: true
          description: URL of the resource
          example: "https://example.com/worksheet.pdf"
        filePath:
          type: string
          nullable: true
          description: File path of the resource
          example: "/uploads/worksheet.pdf"
        description:
          type: string
          nullable: true
          description: Description of the resource
        isRequired:
          type: boolean
          description: Whether the resource is required
          example: true
        isPrepared:
          type: boolean
          description: Whether the resource has been prepared
          example: false

    LessonResourceUpdateRequest:
      type: object
      description: Request body for updating a lesson resource
      properties:
        id:
          type: string
          description: ID of the resource to update
          example: "res_123456"
        name:
          type: string
          nullable: true
          description: Name of the resource
        type:
          type: string
          enum: ["presentation", "mindmap", "document", "video", "audio", "image", "worksheet", "equipment", "other"]
          nullable: true
          description: Type of resource
        url:
          type: string
          format: uri
          nullable: true
          description: URL of the resource
        filePath:
          type: string
          nullable: true
          description: File path of the resource
        description:
          type: string
          nullable: true
          description: Description of the resource
        isRequired:
          type: boolean
          nullable: true
          description: Whether the resource is required
        isPrepared:
          type: boolean
          nullable: true
          description: Whether the resource has been prepared

    ImportResult:
      type: object
      description: Result of importing students via CSV
      properties:
        success:
          type: boolean
          description: Whether the import was successful
          example: true
        studentsCreated:
          type: integer
          nullable: true
          description: Number of students created
          example: 25
        message:
          type: string
          nullable: true
          description: Import result message
          example: "Students imported successfully"
        errors:
          type: array
          nullable: true
          description: List of import errors
          items:
            type: string
            example: "Row 5: Invalid full name format"

