paths:
  # ============================================================
  # CLASS MANAGEMENT ENDPOINTS
  # ============================================================
  /classes:
    get:
      tags:
        - CMS / Classes
      summary: Get All Classes
      description: Retrieves a paginated list of classes with optional filters and sorting.
      operationId: getClasses
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number (1-indexed)
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
          description: Number of classes per page
        - name: sort
          in: query
          schema:
            type: string
          description: Sort field and direction (e.g., 'name-asc', 'createdAt-desc')
        - name: search
          in: query
          schema:
            type: string
          description: Search by class name
        - name: isActive
          in: query
          schema:
            type: boolean
          description: Filter by active status
      responses:
        "200":
          description: List of classes retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Class"
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
    post:
      tags:
        - CMS / Classes
      summary: Create New Class
      description: Creates a new class. The authenticated user becomes the owner.
      operationId: createClass
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/ClassCreateRequest"
      responses:
        "201":
          description: Class created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Class"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"

  /classes/{classId}:
    get:
      tags:
        - CMS / Classes
      summary: Get Class by ID
      description: Retrieves a specific class by its ID (must be owner or enrolled).
      operationId: getClassById
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "200":
          description: Class retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Class"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "403":
          $ref: "../schemas.yaml#/components/responses/ForbiddenError"
        "404":
          $ref: "../schemas.yaml#/components/responses/NotFoundError"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
    put:
      tags:
        - CMS / Classes
      summary: Update Class
      description: Updates an existing class with the provided information.
      operationId: updateClass
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/ClassUpdateRequest"
      responses:
        "200":
          description: Class updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Class"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    delete:
      tags:
        - CMS / Classes
      summary: Delete Class
      description: Deletes a class and all its associated data.
      operationId: deleteClass
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "204":
          description: Class deleted successfully
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  # ============================================================
  # CLASS ENROLLMENT & JOIN CODE ENDPOINTS
  # ============================================================
  /classes/{classId}/join-code:
    post:
      tags:
        - CMS / Classes
      summary: Generate Join Code
      description: Generates or regenerates a unique join code for the class. Only class owner can perform this action.
      operationId: generateJoinCode
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "200":
          description: Join code generated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          joinCode:
                            type: string
                            description: The generated join code
                            example: "ABC123"
                          expiresAt:
                            type: string
                            format: date-time
                            description: When the join code expires
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "403":
          description: Forbidden - Only class owner can generate join code
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  /classes/join/{joinCode}:
    post:
      tags:
        - CMS / Classes
      summary: Join Class by Code
      description: Allows a student to join a class using a valid join code. Creates enrollment record automatically.
      operationId: joinClassByCode
      parameters:
        - name: joinCode
          in: path
          required: true
          schema:
            type: string
          description: The class join code
      responses:
        "201":
          description: Successfully joined class
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/ClassEnrollment"
        "400":
          description: Bad Request - Invalid or expired join code
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "409":
          description: Conflict - Student already enrolled in class
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  # Tag: Seating Chart
  /classes/{classId}/seating-chart:
    get:
      tags:
        - CMS / Seating Chart
      summary: Get Seating Chart
      description: Retrieves the seating chart layout for a specific class.
      operationId: getSeatingChart
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "200":
          description: Seating chart retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Layout"
        "404":
          description: Class or seating chart not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    put:
      tags:
        - CMS / Seating Chart
      summary: Save Seating Chart
      description: Saves or updates the seating chart layout for a specific class.
      operationId: saveSeatingChart
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/Layout"
      responses:
        "200":
          description: Seating chart saved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Layout"
        "400":
          description: Bad Request - Invalid layout data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  # Tag: Students
  /classes/{classId}/students:
    get:
      tags:
        - CMS / Students
      summary: Get Students in Class
      description: Retrieves all students enrolled in a specific class.
      operationId: getStudentsByClassId
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      responses:
        "200":
          description: List of students retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Student"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    post:
      tags:
        - CMS / Students
      summary: Enroll or Create Student
      description: Enrolls an existing student or creates a new student in a class.
      operationId: enrollStudent
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        description: Either enroll existing student or create new one
        content:
          application/json:
            schema:
              oneOf:
                - $ref: "../schemas.yaml#/components/schemas/StudentEnrollmentRequest"
                - $ref: "../schemas.yaml#/components/schemas/StudentCreateRequest"
      responses:
        "200":
          description: Student enrolled or created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Student"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class or student not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /classes/{classId}/students/{studentId}:
    delete:
      tags:
        - CMS / Students
      summary: Remove Student from Class
      description: Removes a student from a specific class.
      operationId: removeStudentFromClass
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: studentId
          in: path
          required: true
          schema:
            type: string
          description: The student ID
      responses:
        "204":
          description: Student removed successfully
        "404":
          description: Class or student not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /classes/{classId}/students/import:
    post:
      tags:
        - CMS / Students
      summary: Import Students from CSV
      description: Imports students from a CSV file into a class.
      operationId: submitImport
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: CSV file containing student data
              required:
                - file
      responses:
        "200":
          description: Students imported successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/ImportResult"
        "400":
          description: Bad Request - Invalid file format
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /students/{studentId}:
    put:
      tags:
        - CMS / Students
      summary: Update Student
      description: Updates student information.
      operationId: updateStudent
      parameters:
        - name: studentId
          in: path
          required: true
          schema:
            type: string
          description: The student ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/StudentUpdateRequest"
      responses:
        "200":
          description: Student updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Student"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Student not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  # Tag: Schedules
  /classes/{classId}/schedules:
    get:
      tags:
        - CMS / Schedules
      summary: Get Class Schedules
      description: Retrieves the schedule for a class within a date range.
      operationId: getSchedules
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: startDate
          in: query
          schema:
            type: string
            format: date
          description: Start date for the schedule range
        - name: endDate
          in: query
          schema:
            type: string
            format: date
          description: End date for the schedule range
      responses:
        "200":
          description: Schedule retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/DailySchedule"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /classes/{classId}/periods:
    get:
      tags:
        - CMS / Schedules
      summary: Get Class Periods
      description: Retrieves all schedule periods for a class.
      operationId: getSchedulePeriods
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: date
          in: query
          schema:
            type: string
            format: date
          description: Filter by specific date
        - name: startDate
          in: query
          schema:
            type: string
            format: date
          description: Start date for the period range
        - name: endDate
          in: query
          schema:
            type: string
            format: date
          description: End date for the period range
        - name: subject
          in: query
          schema:
            type: string
          description: Filter by subject code
      responses:
        "200":
          description: Periods retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/SchedulePeriod"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    post:
      tags:
        - CMS / Schedules
      summary: Create Schedule Period
      description: Creates a new schedule period for a class.
      operationId: createSchedulePeriod
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/SchedulePeriodCreateRequest"
      responses:
        "201":
          description: Period created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/SchedulePeriod"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /classes/{classId}/periods/{id}:
    get:
      tags:
        - CMS / Schedules
      summary: Get Period by ID
      description: Retrieves a specific schedule period by its ID for a class.
      operationId: getPeriodById
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The period ID
      responses:
        "200":
          description: Period retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/SchedulePeriod"
        "404":
          description: Period not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    patch:
      tags:
        - CMS / Schedules
      summary: Update Schedule Period
      description: Updates an existing schedule period for a class.
      operationId: updateSchedulePeriod
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The period ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/SchedulePeriodUpdateRequest"
      responses:
        "200":
          description: Period updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/SchedulePeriod"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Period not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"



  # Tag: Lessons
  /classes/{classId}/lessons:
    get:
      tags:
        - CMS / Lessons
      summary: Get Lessons
      description: Retrieves lessons for a class with optional filters.
      operationId: getLessons
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: teacherId
          in: query
          schema:
            type: string
          description: Filter by teacher ID
        - name: subject
          in: query
          schema:
            type: string
          description: Filter by subject
        - name: status
          in: query
          schema:
            type: string
            enum: ["draft", "planning", "in-progress", "completed", "archived"]
          description: Filter by status
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
          description: Page size
      responses:
        "200":
          description: Lessons retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Lesson"
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /lessons:
    post:
      tags:
        - CMS / Lessons
      summary: Create Lesson
      description: Creates a new lesson.
      operationId: createLessonPlan
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/LessonCreateRequest"
      responses:
        "201":
          description: Lesson created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Lesson"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /lessons/{id}:
    get:
      tags:
        - CMS / Lessons
      summary: Get Lesson by ID
      description: Retrieves a specific lesson by its ID.
      operationId: getLesson
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The lesson ID
      responses:
        "200":
          description: Lesson retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Lesson"
        "404":
          description: Lesson plan not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    patch:
      tags:
        - CMS / Lessons
      summary: Update Lesson
      description: Updates an existing lesson with the provided information.
      operationId: updateLesson
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The lesson ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/LessonUpdateRequest"
      responses:
        "200":
          description: Lesson updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Lesson"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Lesson not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  /lessons/{id}/status:
    patch:
      tags:
        - CMS / Lessons
      summary: Update Lesson Status
      description: Updates the status of a lesson.
      operationId: updateLessonStatus
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: The lesson ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                  enum: ["draft", "planning", "in-progress", "completed", "archived"]
                  description: New status
                  example: "in-progress"
                notes:
                  type: string
                  description: Optional notes about the status change
                  example: "Started teaching this lesson"
              required:
                - status
      responses:
        "200":
          description: Lesson status updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Lesson"
        "400":
          description: Bad Request - Invalid input data
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Lesson not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"

  # ============================================================
  # LESSON RESOURCES ENDPOINTS
  # ============================================================
  /lessons/{lessonId}/resources:
    get:
      tags:
        - CMS / Lessons
      summary: Get Lesson Resources
      description: Retrieves all resources (files, links, media) attached to a lesson.
      operationId: getLessonResources
      parameters:
        - name: lessonId
          in: path
          required: true
          schema:
            type: string
          description: The lesson ID
      responses:
        "200":
          description: Lesson resources retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/LessonResource"
        "404":
          description: Lesson not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    post:
      tags:
        - CMS / Lessons
      summary: Create Lesson Resource
      description: Adds a new resource (file, link, or media) to a lesson.
      operationId: createLessonResource
      parameters:
        - name: lessonId
          in: path
          required: true
          schema:
            type: string
          description: The lesson ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/LessonResourceCreateRequest"
      responses:
        "201":
          description: Lesson resource created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/LessonResource"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Lesson not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  /lesson-resources/{resourceId}:
    put:
      tags:
        - CMS / Lessons
      summary: Update Lesson Resource
      description: Updates details of a lesson resource.
      operationId: updateLessonResource
      parameters:
        - name: resourceId
          in: path
          required: true
          schema:
            type: string
          description: The resource ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: Resource name
                description:
                  type: string
                  description: Resource description
                isRequired:
                  type: boolean
                  description: Whether resource is required
                isPrepared:
                  type: boolean
                  description: Whether resource is prepared
      responses:
        "200":
          description: Resource updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/LessonResource"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    delete:
      tags:
        - CMS / Lessons
      summary: Delete Lesson Resource
      description: Removes a resource from a lesson.
      operationId: deleteLessonResource
      parameters:
        - name: resourceId
          in: path
          required: true
          schema:
            type: string
          description: The resource ID
      responses:
        "204":
          description: Resource deleted successfully
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Resource not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  # ============================================================
  # SUBMISSIONS ENDPOINTS
  # ============================================================
  /lessons/{lessonId}/submissions:
    get:
      tags:
        - CMS / Lessons
      summary: Get Lesson Submissions
      description: Retrieves all student submissions for an assignment lesson. Teachers can view all; students can only view their own.
      operationId: getLessonSubmissions
      parameters:
        - name: lessonId
          in: path
          required: true
          schema:
            type: string
          description: The lesson (assignment) ID
        - name: status
          in: query
          schema:
            type: string
            enum: ["draft", "submitted", "returned", "late", "graded"]
          description: Filter by submission status
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number (1-based)
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
          description: Items per page
      responses:
        "200":
          description: Submissions retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Submission"
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Lesson not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    post:
      tags:
        - CMS / Lessons
      summary: Create Submission
      description: Student submits assignment work for an assignment lesson.
      operationId: createSubmission
      parameters:
        - name: lessonId
          in: path
          required: true
          schema:
            type: string
          description: The lesson (assignment) ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/SubmissionCreateRequest"
      responses:
        "201":
          description: Submission created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Submission"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Lesson not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  /submissions/{submissionId}:
    get:
      tags:
        - CMS / Lessons
      summary: Get Submission
      description: Retrieves details of a specific submission.
      operationId: getSubmission
      parameters:
        - name: submissionId
          in: path
          required: true
          schema:
            type: string
          description: The submission ID
      responses:
        "200":
          description: Submission retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Submission"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Submission not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    put:
      tags:
        - CMS / Lessons
      summary: Update Submission
      description: Updates a submission (student can update draft; teacher can grade and return).
      operationId: updateSubmission
      parameters:
        - name: submissionId
          in: path
          required: true
          schema:
            type: string
          description: The submission ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/SubmissionUpdateRequest"
      responses:
        "200":
          description: Submission updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Submission"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Submission not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  # ============================================================
  # POSTS & DISCUSSIONS ENDPOINTS
  # ============================================================
  /classes/{classId}/posts:
    get:
      tags:
        - CMS / Classes
      summary: Get Class Posts
      description: Retrieves a paginated list of posts in a class (announcements, events, discussions).
      operationId: getClassPosts
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
        - name: type
          in: query
          schema:
            type: string
            enum: ["announcement", "schedule_event", "general"]
          description: Filter by post type
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number (1-based)
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
          description: Items per page
      responses:
        "200":
          description: Posts retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Post"
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    post:
      tags:
        - CMS / Classes
      summary: Create Post
      description: Creates a new post in the class (announcement, event, or general discussion).
      operationId: createPost
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: The class ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/PostCreateRequest"
      responses:
        "201":
          description: Post created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Post"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  /posts/{postId}:
    get:
      tags:
        - CMS / Classes
      summary: Get Post
      description: Retrieves details of a specific post including comments if allowed.
      operationId: getPost
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
          description: The post ID
      responses:
        "200":
          description: Post retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Post"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Post not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    put:
      tags:
        - CMS / Classes
      summary: Update Post
      description: Updates a post (only author or admin can perform this action).
      operationId: updatePost
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
          description: The post ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/PostUpdateRequest"
      responses:
        "200":
          description: Post updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Post"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "403":
          description: Forbidden - Only post author or admin can update
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Post not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    delete:
      tags:
        - CMS / Classes
      summary: Delete Post
      description: Deletes a post (only author or admin can perform this action).
      operationId: deletePost
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
          description: The post ID
      responses:
        "204":
          description: Post deleted successfully
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "403":
          description: Forbidden - Only post author or admin can delete
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Post not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  /posts/{postId}/pin:
    patch:
      tags:
        - CMS / Classes
      summary: Toggle Pin Status
      description: Pins or unpins a post (only teacher/admin can perform this action).
      operationId: togglePinPost
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
          description: The post ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - isPinned
              properties:
                isPinned:
                  type: boolean
                  description: Whether to pin or unpin the post
                  example: true
      responses:
        "200":
          description: Pin status toggled successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Post"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "403":
          description: Forbidden - Only teacher or admin can pin posts
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Post not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  /posts/{postId}/comments:
    get:
      tags:
        - CMS / Classes
      summary: Get Post Comments
      description: Retrieves all comments on a post (if comments are allowed).
      operationId: getPostComments
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
          description: The post ID
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number (1-based)
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
          description: Items per page
      responses:
        "200":
          description: Comments retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/Comment"
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "404":
          description: Post not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    post:
      tags:
        - CMS / Classes
      summary: Create Comment
      description: Adds a comment to a post (only if comments are allowed on the post).
      operationId: createComment
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: string
          description: The post ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/CommentCreateRequest"
      responses:
        "201":
          description: Comment created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Comment"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "403":
          description: Forbidden - Comments not allowed on this post
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Post not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  /comments/{commentId}:
    put:
      tags:
        - CMS / Classes
      summary: Update Comment
      description: Updates a comment (only comment author or admin can perform this action).
      operationId: updateComment
      parameters:
        - name: commentId
          in: path
          required: true
          schema:
            type: string
          description: The comment ID
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "../schemas.yaml#/components/schemas/CommentUpdateRequest"
      responses:
        "200":
          description: Comment updated successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Comment"
        "400":
          $ref: "../schemas.yaml#/components/responses/BadRequestError"
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "403":
          description: Forbidden - Only comment author or admin can update
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Comment not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

    delete:
      tags:
        - CMS / Classes
      summary: Delete Comment
      description: Deletes a comment (only comment author or admin can perform this action).
      operationId: deleteComment
      parameters:
        - name: commentId
          in: path
          required: true
          schema:
            type: string
          description: The comment ID
      responses:
        "204":
          description: Comment deleted successfully
        "401":
          $ref: "../schemas.yaml#/components/responses/UnauthorizedError"
        "403":
          description: Forbidden - Only comment author or admin can delete
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Comment not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          $ref: "../schemas.yaml#/components/responses/InternalServerError"
      security:
        - bearerAuth: []

  # ============================================================
  # BULK OPERATIONS ENDPOINTS
  # ============================================================
  /classes/{classId}/students/bulk-create-accounts:
    post:
      tags:
        - CMS / Classes
      summary: Create Accounts for Bulk Students
      description: Creates Keycloak user accounts for multiple enrolled students and sends invitation emails with auto-generated credentials
      operationId: bulkCreateStudentAccounts
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: ID of the class
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - studentIds
              properties:
                studentIds:
                  type: array
                  description: Array of Student IDs to create accounts for
                  items:
                    type: string
                  example: ["550e8400-e29b-41d4-a716-446655440010", "550e8400-e29b-41d4-a716-446655440011"]
      responses:
        "200":
          description: Student accounts created successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          totalCreated:
                            type: integer
                            example: 5
                          totalFailed:
                            type: integer
                            example: 1
                          createdAccounts:
                            type: array
                            items:
                              type: object
                              properties:
                                studentId:
                                  type: string
                                username:
                                  type: string
                                temporaryPassword:
                                  type: string
                          failedAccounts:
                            type: array
                            items:
                              type: object
                              properties:
                                studentId:
                                  type: string
                                reason:
                                  type: string
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "403":
          description: Forbidden - Only class owner can perform this action
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
      security:
        - bearerAuth: []

  # ============================================================
  # DASHBOARD ENDPOINTS
  # ============================================================
  /classes/{classId}/dashboard:
    get:
      tags:
        - CMS / Dashboard
      summary: Get Class Dashboard
      description: Retrieves unified dashboard view combining posts and assignments, sorted chronologically with pagination
      operationId: getClassDashboard
      parameters:
        - name: classId
          in: path
          required: true
          schema:
            type: string
          description: ID of the class
        - name: type
          in: query
          schema:
            type: string
            enum: ["post", "assignment", "all"]
            default: "all"
          description: Filter by item type
        - name: startDate
          in: query
          schema:
            type: string
            format: date-time
          description: Filter items created after this date
        - name: endDate
          in: query
          schema:
            type: string
            format: date-time
          description: Filter items created before this date
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number (1-based)
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
          description: Items per page
      responses:
        "200":
          description: Dashboard items retrieved successfully
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "../schemas.yaml#/components/schemas/DashboardItem"
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "400":
          description: Bad Request - Invalid query parameters
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "404":
          description: Class not found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
      security:
        - bearerAuth: []
